{"version":3,"sources":["webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?1bc6","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?4b00","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?9e06","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?28c8","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?16bd","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?5f9d"],"names":["data","canvasShow","methods","promisify","api","options","params","Promise","resolve","reject","extras","success","fail","shareClick","wxGetImageInfo","uni","getImageInfo","all","src","then","res","console","log","ctx","wx","createCanvasContext","drawImage","path","setTextAlign","setFillStyle","setFontSize","fillText","qrImgSize","stroke","draw","tempFileImage","that","canvasToTempFilePath","canvasId","hideLoading","savePic","tempFilePath","filePath","showLoading","title","saveImageToPhotosAlbum","showToast","e","complete"],"mappings":"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","file":"pages/task/task.js","sourcesContent":["// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./task.vue?vue&type=template&id=06e9be78&scoped=true&\"\nimport script from \"./task.vue?vue&type=script&lang=js&\"\nexport * from \"./task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06e9be78\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\MyDownloads\\\\Download\\\\5.22下载\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('06e9be78', component.options)\n    } else {\n      api.reload('06e9be78', component.options)\n    }\n    module.hot.accept(\"./task.vue?vue&type=template&id=06e9be78&scoped=true&\", function () {\n      api.rerender('06e9be78', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue\"\nexport default component.exports","export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=template&id=06e9be78&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.canvasShow = false\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n            canvasShow: false\n    }\n  },\n  methods: {\n        //这是一个封装好的方法 \n        promisify: api => {\n            return (options, ...params) => {\n                return new Promise((resolve, reject) => {\n                    const extras = {\n                        success: resolve,\n                        fail: reject\n                    }\n                    api({ ...options, ...extras }, ...params)\n                })\n            }\n        },\n        shareClick() {         \n            const wxGetImageInfo = this.promisify(uni.getImageInfo)\n            Promise.all([\n                    // 图片目前只随机找了几张图片，后期可自行替换\n                    wxGetImageInfo({\n                            src: 'http://pics.ksudi.com/pic/2019/soms/companycard/jd2.png'   // 背景图片\n                    }),\n                    wxGetImageInfo({\n                            src: 'http://pics.ksudi.com/pic/2019/soms/companycard/st2.png'   // 二维码图片，二维码图片如需要携带参数，可根据接口将需要扫码进入页面的路径+参数传入后端，后端可根据生产小程序二维码路径，将路径放入这里就ok了,<a href=\"https://www.jianshu.com/p/5f96a4f91b9c\" target=\"_blank\">可参考</a>\n                    })\n            ]).then(res => {\n                    console.log(3454)\n                    const ctx = wx.createCanvasContext('shareCanvas')\n                    console.log(ctx)\n                    // 底图\n                    ctx.drawImage(res[0].path, 0, 0, 600, 700)\n                    // 作者名称\n                    ctx.setTextAlign('center')    // 文字居中\n                    ctx.setFillStyle('#000000')  // 文字颜色：黑色\n                    ctx.setFontSize(22)         // 文字字号：22px\n                    ctx.fillText('作者：张杰', 300 / 2, 100)\n                    // 小程序码\n                    const qrImgSize = 150\n                    ctx.drawImage(res[1].path, (340 - qrImgSize) / 2, 230, qrImgSize, qrImgSize)\n                    ctx.stroke()\n                    // 绘图生成临时图片\n                    console.log('res', res)\n                    ctx.draw(false,() => {\n                        this.tempFileImage()\n                    })\n                    this.canvasShow = true\n            })\n        },\n        tempFileImage() {\n            let that = this\n            uni.canvasToTempFilePath({\n                    canvasId: 'shareCanvas',\n                    success: (res) => {\n                            uni.hideLoading()\n                            that.savePic(res.tempFilePath)\n                    },\n                    fail:function () {\n                            //TODO\n                    }\n            })\n        },\n        //保存\n        savePic (filePath) {\n            console.log('filePath', filePath)\n            uni.showLoading({\n                    title: '正在保存'\n            });\n            uni.saveImageToPhotosAlbum({\n                    filePath: filePath,\n                    success: function () {\n                            uni.showToast({\n                                    title: '图片保存成功～'\n                            });\n                    },\n                    fail: function (e) {\n                            //TODO\n                    },\n                    complete: function (){\n                            uni.hideLoading()\n                    }\n            });\n        }\n  }\n}\n","import mod from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\""],"sourceRoot":""}