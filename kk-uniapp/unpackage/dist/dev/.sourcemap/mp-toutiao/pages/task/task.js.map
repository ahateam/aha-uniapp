{"version":3,"sources":["webpack:///D:/公司项目/aha-uniapp/kk-uniapp/main.js","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?9e06","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?28c8","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?e4f9","webpack:///../../../../../../../公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?5f9d","webpack:///D:/公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue?1bc6"],"names":["App","mpType","app","Vue","$mount"],"mappings":";;;;;;;;;;AAAA;AACA;AACA,qE;AACAA,cAAIC,MAAJ,GAAW,MAAX;AACA,IAAMC,GAAG,GAAG,IAAIC,YAAJ,CAAQH,aAAR,CAAZ;AACAE,GAAG,CAACE,MAAJ,G;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+F;AACvC;AACL;AACsC;;;AAGzF;AAC0L;AAC1L,gBAAgB,gMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,qBAAqB,SAAS,UAAU,EAAE;AAC1C;AACA;AACA;AACA;AACA,gBAAgB,UAAU;AAC1B,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA,kBAAkB;AAClB,SAAS;AACT,oBAAoB,gCAAgC,UAAU,EAAE;AAChE;AACA;AACA,kBAAkB;AAClB,SAAS;AACT;AACA;AACA;AACA,oBAAoB,uCAAuC,UAAU,EAAE;AACvE;AACA;AACA,oBAAoB;AACpB,WAAW;AACX,sBAAsB,oCAAoC,UAAU,EAAE;AACtE;AACA;AACA,oBAAoB,oCAAoC;AACxD;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAmjC,CAAgB,ohCAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBvkC;AACA,MADA,kBACA;AACA;AACA,uBADA;;AAGA,GALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;;AAIA;AACA,SANA;AAOA,OARA;AASA,KAZA;AAaA,cAbA,wBAaA;AACA;AACA;AACA;AACA;AACA,sEADA,CACA;AADA,QAFA;AAKA;AACA,sEADA,CACA;AADA,QALA;AAQA,UARA,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAPA,CAOA;AACA,oCARA,CAQA;AACA,4BATA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,OA7BA;AA8BA,KA7CA;AA8CA,iBA9CA,2BA8CA;AACA;AACA;AACA,+BADA;AAEA;AACA;AACA;AACA,SALA;AAMA;AACA;AACA,SARA;;AAUA,KA1DA;AA2DA;AACA,WA5DA,mBA4DA,QA5DA,EA4DA;AACA;AACA;AACA,qBADA;;AAGA;AACA,0BADA;AAEA;AACA;AACA,4BADA;;AAGA,SANA;AAOA;AACA;AACA,SATA;AAUA;AACA;AACA,SAZA;;AAcA,KA/EA,EANA,E;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAslD,CAAgB,6/CAAG,EAAC,C;;;;;;;;;;;ACA1mD,uC","file":"pages/task/task.js","sourcesContent":["import 'uni-pages';\nimport App from './pages/task/task.vue'\nimport Vue from 'vue'\nApp.mpType='page'\nconst app = new Vue(App)\napp.$mount()","import { render, staticRenderFns } from \"./task.vue?vue&type=template&id=06e9be78&scoped=true&\"\nimport script from \"./task.vue?vue&type=script&lang=js&\"\nexport * from \"./task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06e9be78\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\MyDownloads\\\\Download\\\\5.22下载\\\\HBuilderX.1.9.9.20190522.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('06e9be78', component.options)\n    } else {\n      api.reload('06e9be78', component.options)\n    }\n    module.hot.accept(\"./task.vue?vue&type=template&id=06e9be78&scoped=true&\", function () {\n      api.rerender('06e9be78', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"公司项目/aha-uniapp/kk-uniapp/pages/task/task.vue\"\nexport default component.exports","export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=template&id=06e9be78&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { attrs: { _hid: 0 } }, [\n    _c(\n      \"view\",\n      {\n        staticClass: \"personal_li\",\n        attrs: { _hid: 1 },\n        on: { click: _vm.shareClick }\n      },\n      [\n        _c(\"image\", {\n          staticClass: \"iconImage\",\n          attrs: { src: \"/static/image/release.png\", mode: \"widthFix\", _hid: 2 }\n        }),\n        _c(\"text\", { staticClass: \"font14\", attrs: { _hid: 3 } }, []),\n        _c(\"image\", {\n          staticClass: \"jtIcon\",\n          attrs: { src: \"/static/image/video.png\", mode: \"widthFix\", _hid: 5 }\n        })\n      ]\n    ),\n    _vm._ri(!!_vm.canvasShow, 6)\n      ? _c(\"view\", { staticClass: \"canvasContent\", attrs: { _hid: 6 } }, [\n          _c(\"canvas\", {\n            staticClass: \"canvasName\",\n            attrs: { \"canvas-id\": \"shareCanvas\", _hid: 7 }\n          }),\n          _c(\"view\", { staticClass: \"canvasText\", attrs: { _hid: 8 } }, []),\n          _c(\"image\", {\n            staticClass: \"errorImage\",\n            attrs: { src: \"/static/logo.png\", _hid: 10 },\n            on: {\n              click: function($event) {\n                _vm.canvasShow = false\n              }\n            }\n          })\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t <view class=\"personal_li\"\r\n\t\t                  @click=\"shareClick\">\r\n\t\t              <image src=\"/static/image/release.png\"\r\n\t\t                     mode=\"widthFix\"\r\n\t\t                     class=\"iconImage\"></image>\r\n\t\t              <text class=\"font14\">分享生成图片</text>\r\n\t\t              <image src=\"/static/image/video.png\"\r\n\t\t                     mode=\"widthFix\"\r\n\t\t                     class=\"jtIcon\"></image>\r\n\t\t            </view>\r\n\t\t        <view class=\"canvasContent\" v-if=\"canvasShow\">\r\n\t\t            <canvas canvas-id=\"shareCanvas\" class=\"canvasName\"></canvas>\r\n\t\t            <view class=\"canvasText\">图片已保存到相册，可分享给好友</view>\r\n\t\t            <image src=\"/static/logo.png\" class=\"errorImage\" @click=\"canvasShow = false\"></image>\r\n\t\t        </view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\nexport default {\n  data() {\n    return {\n            canvasShow: false\n    }\n  },\n  methods: {\n        //这是一个封装好的方法 \n        promisify: api => {\n            return (options, ...params) => {\n                return new Promise((resolve, reject) => {\n                    const extras = {\n                        success: resolve,\n                        fail: reject\n                    }\n                    api({ ...options, ...extras }, ...params)\n                })\n            }\n        },\n        shareClick() {         \n            const wxGetImageInfo = this.promisify(uni.getImageInfo)\n            Promise.all([\n                    // 图片目前只随机找了几张图片，后期可自行替换\n                    wxGetImageInfo({\n                            src: 'http://pics.ksudi.com/pic/2019/soms/companycard/jd2.png'   // 背景图片\n                    }),\n                    wxGetImageInfo({\n                            src: 'http://pics.ksudi.com/pic/2019/soms/companycard/st2.png'   // 二维码图片，二维码图片如需要携带参数，可根据接口将需要扫码进入页面的路径+参数传入后端，后端可根据生产小程序二维码路径，将路径放入这里就ok了,<a href=\"https://www.jianshu.com/p/5f96a4f91b9c\" target=\"_blank\">可参考</a>\n                    })\n            ]).then(res => {\n                    console.log(3454)\n                    const ctx = wx.createCanvasContext('shareCanvas')\n                    console.log(ctx)\n                    // 底图\n                    ctx.drawImage(res[0].path, 0, 0, 600, 700)\n                    // 作者名称\n                    ctx.setTextAlign('center')    // 文字居中\n                    ctx.setFillStyle('#000000')  // 文字颜色：黑色\n                    ctx.setFontSize(22)         // 文字字号：22px\n                    ctx.fillText('作者：张杰', 300 / 2, 100)\n                    // 小程序码\n                    const qrImgSize = 150\n                    ctx.drawImage(res[1].path, (340 - qrImgSize) / 2, 230, qrImgSize, qrImgSize)\n                    ctx.stroke()\n                    // 绘图生成临时图片\n                    console.log('res', res)\n                    ctx.draw(false,() => {\n                        this.tempFileImage()\n                    })\n                    this.canvasShow = true\n            })\n        },\n        tempFileImage() {\n            let that = this\n            uni.canvasToTempFilePath({\n                    canvasId: 'shareCanvas',\n                    success: (res) => {\n                            uni.hideLoading()\n                            that.savePic(res.tempFilePath)\n                    },\n                    fail:function () {\n                            //TODO\n                    }\n            })\n        },\n        //保存\n        savePic (filePath) {\n            console.log('filePath', filePath)\n            uni.showLoading({\n                    title: '正在保存'\n            });\n            uni.saveImageToPhotosAlbum({\n                    filePath: filePath,\n                    success: function () {\n                            uni.showToast({\n                                    title: '图片保存成功～'\n                            });\n                    },\n                    fail: function (e) {\n                            //TODO\n                    },\n                    complete: function (){\n                            uni.hideLoading()\n                    }\n            });\n        }\n  }\n}\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.canvasContent{\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n        background: rgba(0,0,0,0.5);\n        display: flex;\n        align-items: center;\n        flex-direction: column;\n        padding-top: 50upx;\n \n        .canvasName{\n            width: 80%;\n            height: calc(100vh - 300upx);\n        }\n        .canvasText{\n            margin: 30upx 0 20upx;\n            color: #FFFFFF;\n        }\n        .errorImage{\n            width: 80upx;\n            height: 80upx;\n        }\n    }\r\n</style>\r\n","import mod from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../MyDownloads/Download/5.22下载/HBuilderX.1.9.9.20190522.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./task.vue?vue&type=style&index=0&id=06e9be78&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}